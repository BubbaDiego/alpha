
{% extends "base.html" %}
{% block title %}Order Factory{% endblock %}

{% block extra_styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/title_bar.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/sonic_dashboard.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/sonic_themes.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/sonic_titles.css') }}">
<style>
  .factory-container {
    margin-top: 2rem;
  }
  .panel {
    background: #333;
    padding: 0.75rem;
    margin-bottom: 0.75rem;
    border-radius: 6px;
    border: 1px solid #666;
  }
</style>
{% endblock %}

{% block content %}
{% set title_text = 'Order Factory' %}
{% include "title_bar.html" %}

<div class="factory-container sonic-section-container sonic-section-middle">
  <div class="sonic-content-panel">
    <div class="section-title">Actions</div>
    <div class="panel">
      <button id="launchCoreBtn" class="btn btn-sm btn-secondary mb-2">Launch Core</button>
      <div class="mb-2">
        <button class="btn btn-sm btn-primary" data-engine-action="select_position_type" data-value="long">Long</button>
        <button class="btn btn-sm btn-primary" data-engine-action="select_order_type" data-value="market">Market</button>
        <button class="btn btn-sm btn-primary" data-engine-action="confirm_order">Confirm</button>
      </div>
    </div>
    <div class="panel text-center">
      <button id="runFullFlowBtn" class="btn btn-success">Run Full Demo Flow</button>
    </div>
    <div class="panel">[Logs]</div>
  </div>
  <div class="sonic-content-panel">
    <div class="section-title">Live Data</div>
    <div class="panel">Wallet Type: Solflare</div>
    <div class="panel">Broker: Jupiter</div>
    <div class="panel">Order Summary Output</div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/layout_mode.js') }}"></script>
<script src="{{ url_for('static', filename='js/sonic_theme_toggle.js') }}"></script>
<script src="{{ url_for('static', filename='js/order_factory.js') }}"></script>
{% endblock %}
